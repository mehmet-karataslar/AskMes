<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sana Özel Bir Sürprizim Var ❤️</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="particle-background" id="particle-background"></div>
    <div class="heart-container" id="heart-container"></div>

    <div class="letter-cover" id="letter-cover">
        <h1 class="cover-title">Mehmedinden Sana Bir Mektup Var</h1>
        <p class="cover-subtitle">Sevgiyle hazırlanmış özel mesaj</p>
        <button class="open-button" id="open-button">📜 Mektubu Aç</button>
    </div>

    <div class="love-letter" id="loveLetter">
        <div class="letter-title">Canım Aşkım,</div>
        <div class="letter-content">
            <p>
                Güneş doğmuş, yeni bir gün başlamış... Ama benim için günün en güzel anı, 
                gözlerimi açtığımda seni düşünmeye başladığım an. Sabahın ilk nefesinde 
                senin kokun var, ilk düşüncemde senin gülümsemen...
            </p>
            
            <p>
                Biliyorsun, her sabah uyandığımda kalbimde bir sıcaklık hissediyorum. 
                Bu sıcaklık senin varlığından geliyor, senin benimle olduğunu bilmekten. 
                Hayatıma kattığın renklerin, getirdiğin mutluluğun farkında mısın?
            </p>
            
            <p>
                Sabahın sessizliğinde seni düşünüyorum... Nasıl bir melek olabilirsin ki 
                böyle? Gülüşün baharı getiriyor kalbime, sesinin melodisi kulaklarımda. 
                Sen sadece sevgilim değilsin, sen benim nefesimsin, kalbimin atışısın.
            </p>
            
            <p>
                Bugün de seninle geçireceğim her an bir hediye benim için. Senin varlığın 
                beni daha iyi bir insan yapıyor, seni sevmek beni daha güçlü kılıyor. 
                Bu sabah sana söylemek istiyorum ki, sen benim hayatımın en güzel şiirisin.
            </p>
            
            <p>
                Gözlerinin derinliğinde kayboluyorum her baktığımda... Orada gördüğüm 
                sevgi, sıcaklık ve sonsuzluk beni mest ediyor. Sen benim sonsuzluğumsun, 
                benim ebediyetimsun, benim her şeyimsin.
            </p>
            
            <p>
                Bu güzel sabahta sana söylemek istiyorum: Seni seviyorum, çok seviyorum. 
                Bu aşk sözcüklerle anlatılamayacak kadar büyük, kalbimde hissettiğim 
                bu sevgi tarif edilemeyecek kadar derin. Sen benim mucizem, benim 
                hayatımın anlamısın.
            </p>
            
            <p>
                Günaydın canım, ruhumun diğer yarısı... Bugün de seni sevecek, 
                seni düşünecek, seninle mutlu olacağım. Bu sabah sana olan aşkımla 
                uyanıyorum ve bu gece sana olan sevgimle uyuyacağım.
            </p>
        </div>
        <div class="signature">
            Mehmet'in...
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const openButton = document.getElementById('open-button');
            const letterCover = document.getElementById('letter-cover');
            const loveLetter = document.getElementById('loveLetter');
            const particleBg = document.getElementById('particle-background');
            const heartContainer = document.getElementById('heart-container');
            let audioContext;
            let isMusicPlaying = false;

            // --- Particle Background ---
            const particleCount = 100;
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.width = `${Math.random() * 3 + 1}px`;
                particle.style.height = particle.style.width;
                particle.style.animationDelay = `${Math.random() * 15}s`;
                particle.style.animationDuration = `${Math.random() * 10 + 5}s`;
                particleBg.appendChild(particle);
            }

            // --- Open Letter ---
            openButton.addEventListener('click', () => {
                letterCover.style.transition = 'opacity 1s ease-out';
                letterCover.style.opacity = '0';
                
                loveLetter.classList.add('show');
                
                triggerHeartBurst();
                playMusic();

                setTimeout(() => {
                    letterCover.style.display = 'none';
                }, 1000);
            }, { once: true });

            // --- Heart Burst ---
            function triggerHeartBurst() {
                const heartCount = 50;
                const EMOJIS = ['❤️', '💖', '💕', '💗', '💓', '💞'];
                for (let i = 0; i < heartCount; i++) {
                    const heart = document.createElement('div');
                    heart.className = 'flying-heart';
                    heart.textContent = EMOJIS[Math.floor(Math.random() * EMOJIS.length)];
                    heart.style.fontSize = `${Math.random() * 20 + 15}px`;
                    
                    const angle = Math.random() * 360;
                    const radius = Math.random() * window.innerWidth / 2;
                    const xEnd = Math.cos(angle) * radius + 'px';
                    const yEnd = Math.sin(angle) * radius + 'px';

                    heart.style.setProperty('--x-end', xEnd);
                    heart.style.setProperty('--y-end', yEnd);
                    
                    heart.style.animationDuration = `${Math.random() * 2 + 2}s`;
                    
                    heartContainer.appendChild(heart);

                    setTimeout(() => {
                        heart.remove();
                    }, 4000);
                }
            }
            
            // --- Background Music ---
            function playMusic() {
                if (isMusicPlaying) return;

                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                isMusicPlaying = true;
                
                const melody = [
                    { note: 'E5', duration: 0.5 }, { note: 'D5', duration: 0.5 }, { note: 'C5', duration: 1 },
                    { note: 'E5', duration: 0.5 }, { note: 'D5', duration: 0.5 }, { note: 'C5', duration: 1 },
                    { note: 'G5', duration: 0.5 }, { note: 'G5', duration: 0.5 }, { note: 'A5', duration: 0.5 }, { note: 'A5', duration: 0.5 },
                    { note: 'G5', duration: 1 }, { note: 'F5', duration: 0.5 }, { note: 'E5', duration: 1 },
                ];

                const noteFrequencies = {
                    'C5': 523.25, 'D5': 587.33, 'E5': 659.25, 'F5': 698.46, 'G5': 783.99, 'A5': 880.00,
                };
                
                let currentTime = audioContext.currentTime;
                
                melody.forEach(item => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.type = 'sine';
                    oscillator.frequency.value = noteFrequencies[item.note];
                    
                    gainNode.gain.setValueAtTime(0, currentTime);
                    gainNode.gain.linearRampToValueAtTime(0.1, currentTime + 0.1);
                    gainNode.gain.linearRampToValueAtTime(0, currentTime + item.duration - 0.1);
                    
                    oscillator.start(currentTime);
                    oscillator.stop(currentTime + item.duration);
                    
                    currentTime += item.duration;
                });

                setTimeout(playMusic, currentTime * 1000);
            }
        });
    </script>
</body>
</html>